<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge"> 
    
    <!-- 검색 엔진 최적화 (SEO) -->
    <meta name="description" content="금액별 스쿼드-FC모바일 단일> <!-- 작동함 -->
    <meta name="keywords" content="FC모바일, 특성 재료, 패스 마스터, 라인 브레이커, 예리한 감아차기, 선수 정보, 오버롤, 넥슨">
    <meta name="author" content="해리지팡이">
    
    <!-- Open Graph 데이터 -->
    <meta property="og:title" content="금액별 스쿼드-FC모바일 단일"> <!-- 도대체 뭐하는지 모르겠다...-->
    <meta property="og:description" content="금액별 스쿼드-FC모바일 단일 첼시단일 맨유단일 레알단일 토트넘단일 뮌헨단일 리버풀단일 아스날단일">
    <meta property="og:image" content="https://kritikal619.github.io/logo/Favicon.png">
    <meta property="og:url" content="https://kritikal619.github.io/trait/">
    <meta property="og:site_name" content="FC모바일 특성 정보">
    <meta property="og:type" content="website">
    <link rel="stylesheet" href="styles.css">
    
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="./favicons/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="./favicons/favicon.svg" />
    <link rel="shortcut icon" href="./favicons/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="./favicons/apple-touch-icon.png" />
    <meta name="apple-mobile-web-app-title" content="피모툴킷" />
    <link rel="manifest" href="./favicons/site.webmanifest" />
    <!-- 검증 메타 -->
    <meta name="google-site-verification" content="mI4G1pPTEE7nMyQzFuWm0l5_AHAQiODcfXhTXQ2YMAc">
    <meta name="naver-site-verification" content="47688a76eda92be8c9ba8435f8b91c9598a1bfc0">
  <!-- 모바일 확대를 위한 뷰포트 설정 -->
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>금액별 스쿼드</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.14.0-beta2/css/bootstrap-select.min.css">
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      padding-top: 60px;
      background: #f5f5f5;
    }
    .input-group {
      margin-bottom: 15px;
    }
    input[type="text"] {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      box-sizing: border-box;
      margin-bottom: 20px;
    }
    /* 팀 아이템 컨테이너 */
    .team-item {
      margin-bottom: 20px;
      background: #fff;
      border: 1px solid #ddd;
      border-radius: 4px;
      overflow: hidden;
    }
    /* 팀 버튼 */
    .team-btn {
      width: 100%;
      text-align: left;
      background: #f7f7f7;
      border: none;
      padding: 10px;
      font-size: 16px;
      cursor: pointer;
    }
    .team-btn:hover {
      background: #eaeaea;
    }
    /* 가격 옵션 컨테이너 (팀 내부에 인덴트 적용) */
    .price-options {
      display: none;
      border-top: 1px solid #ddd;
      background: #fff;
      padding-left: 20px;
    }
    .price-options .price-btn {
      width: 100%;
      text-align: left;
      border: none;
      padding: 10px;
      font-size: 15px;
      cursor: pointer;
      background: #fff;
    }
    .price-options .price-btn:not(:last-child) {
      border-bottom: 1px solid #ddd;
    }
    .price-btn:hover {
      background: #f0f0f0;
    }
    /* 스쿼드 이미지와 버튼 그룹 영역 */
    .squad-display {
      text-align: center;
      margin-top: 10px;
      padding: 10px;
      border-top: 1px solid #ddd;
    }
    .squad-display img {
      max-width: 100%;
      height: auto;
    }
    /* 네비게이션 바 */
    #navbar {
      background: #73685d;
      padding: 0.3rem 1rem;
    }
    /* alertPlaceholder 고정: 화면 하단에 항상 표시 */
    #alertPlaceholder {
      position: fixed;
      bottom: 20px;
      left: 0;
      width: 100%;
      z-index: 1050;
      display: flex;
      justify-content: center;
      pointer-events: none;
    }
    
    /* 모바일 확대 적용 (576px 이하) */
    @media (max-width: 576px) {
      body {
        padding: 15px;
        font-size: 18px;
        padding-top: 60px;
      }
      .team-btn {
        font-size: 18px;
        padding: 15px;
      }
      .price-btn {
        font-size: 16px;
        padding: 15px;
      }
      input[type="text"] {
        font-size: 18px;
        padding: 12px;
      }
    }
    footer.footer {
      background: #f8f9fa;
      padding: 15px;
      text-align: center;
      font-size: 0.9rem;
      border-top: 1px solid #ddd;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <nav id="navbar" class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#" id="toolTabButton">FC모바일 금액별 스쿼드</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarContent">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link" href="https://kritikal619.github.io/card/" target="_blank">피모합성소</a></li>
          <li class="nav-item"><a class="nav-link" href="https://kritikal619.github.io/trait/" target="_blank">피모 특성</a></li>
          <li class="nav-item"><a class="nav-link" href="http://fcevol.kro.kr" target="_blank">진화 시뮬레이션</a></li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 상단 검색창 -->
  <div class="input-group">
    <input type="text" id="search" placeholder="예: 레알 마드리드 1000 (엔터키로 검색)">
  </div>

  <!-- 팀 목록 영역 -->
  <div id="teamsContainer"></div>

  <!-- alert 메시지 영역 (화면 하단에 고정) -->
  <div id="alertPlaceholder"></div>

  <footer class="footer">
    <p>
      Data based on NEXON<br/>
      이메일: <span id="email">jchae0619@gmail.com</span><br/><br/>
      <a class="btn btn-primary" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button" aria-controls="offcanvasExample">
        출처 알아보기
      </a>
      <div class="offcanvas offcanvas-start" tabindex="-1" id="offcanvasExample" aria-labelledby="offcanvasExampleLabel">
        <div class="offcanvas-header">
          <h5 class="offcanvas-title" id="offcanvasExampleLabel">출처 알아보기</h5>
          <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
          <p>출처: 해리지팡이(크리티칼)</p>
          <div class="dropdown mt-3">
            <button class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown">
              자세히 알아보기
            </button>
            <ul class="dropdown-menu">
              <li><a class="dropdown-item" href="https://kritikal619.github.io">웹사이트 방문</a></li>
            </ul>
          </div>
        </div>
      </div>
      © 2025 kritikal619. All Rights Reserved.
    </p>
  </footer>

  <script>
    // 데이터: GitHub 레포 내 이미지 파일 경로 사용 (상대경로 예시)
    const data = {
      team1: {
        name: "레알 마드리드",
        prices: {
          '500': './images/500억레알.png',
          '1000': './images/1000억레알.png',
          '3000': './images/3000억레알.png',
          '8000': './images/8000억레알.png',
          '20000': './images/20000억레알.png',
          '하이엔드': './images/하이엔드레알.png'
        }
      },
      team2: {
        name: "맨체스터 유나이티드",
        prices: {
          '500': './images/500억맨유.png',
          '1000': './images/1000억맨유.png',
          '3000': './images/3000억맨유.png',
          '8000': './images/8000억맨유.png',
          '20000': './images/20000억맨유.png',
          '하이엔드': './images/하이엔드맨유.png'
        }
      },
      team3: {
        name: "밀라노 FC (AC밀란)",
        prices: {
          '500': './images/500억밀란.png',
          '1000': './images/1000억밀란.png',
          '3000': './images/3000억밀란.png',
          '8000': './images/8000억밀란.png',
          '20000': './images/20000억밀란.png',
          '하이엔드': './images/하이엔드밀란.png'
        }
      },
      team4: {
        name: "토트넘 훗스퍼",
        prices: {
          '500': './images/500억토트넘.png',
          '1000': './images/1000억토트넘.png',
          '3000': './images/3000억토트넘.png',
          '8000': './images/8000억토트넘.png',
          '20000': './images/20000억토트넘.png',
          '하이엔드': './images/하이엔드토트넘.png'
        }
      },
      team5: {
        name: "첼시",
        prices: {
          '500': './images/500억첼시.png',
          '1000': './images/1000억첼시.png',
          '3000': './images/3000억첼시.png',
          '8000': './images/8000억첼시.png',
          '20000': './images/20000억첼시.png',
          '하이엔드': './images/하이엔드첼시.png'
        }
      },
      team6: {
        name: "아스날",
        prices: {
          '500': './images/500억아스날.png',
          '1000': './images/1000억아스날.png',
          '3000': './images/3000억아스날.png',
          '8000': './images/8000억아스날.png',
          '20000': './images/20000억아스날.png',
        }
      },
      team7: {
        name: "리버풀",
        prices: {
          '500': './images/500억리버풀.png',
          '1000': './images/1000억리버풀.png',
          '3000': './images/3000억리버풀.png',
          '8000': './images/8000억리버풀.png',
          '20000': './images/20000억리버풀.png',
        }
      },
      team8: {
        name: "바이에른 뮌헨",
        prices: {
          '500': './images/500억뮌헨.png',
          '1000': './images/1000억뮌헨.png',
          '3000': './images/3000억뮌헨.png',
          '8000': './images/8000억뮌헨.png',
          '20000': './images/20000억뮌헨.png',
        }
      },
    };

    const teamsContainer = document.getElementById('teamsContainer');
    const searchInput = document.getElementById('search');
    const teamElements = {};

    Object.keys(data).forEach(teamKey => {
      const teamItem = document.createElement('div');
      teamItem.className = 'team-item';

      const teamBtn = document.createElement('button');
      teamBtn.className = 'team-btn';
      teamBtn.textContent = data[teamKey].name;
      teamBtn.dataset.team = teamKey;
      teamItem.appendChild(teamBtn);

      const priceOptions = document.createElement('div');
      priceOptions.className = 'price-options';
      teamItem.appendChild(priceOptions);

      const squadDisplay = document.createElement('div');
      squadDisplay.className = 'squad-display';
      squadDisplay.dataset.activePrice = "";
      teamItem.appendChild(squadDisplay);

      teamBtn.addEventListener('click', function() {
        document.querySelectorAll('.price-options').forEach(div => {
          if (div !== priceOptions) {
            div.style.display = 'none';
            const otherSquad = div.parentElement.querySelector('.squad-display');
            otherSquad.innerHTML = '';
            otherSquad.dataset.activePrice = "";
          }
        });
        if (priceOptions.style.display === 'block') {
          priceOptions.style.display = 'none';
          squadDisplay.innerHTML = '';
          squadDisplay.dataset.activePrice = "";
        } else {
          if (!priceOptions.hasChildNodes()) {
            Object.keys(data[teamKey].prices).forEach(price => {
              const priceBtn = document.createElement('button');
              priceBtn.className = 'price-btn';
              priceBtn.textContent = price + '억';
              priceBtn.dataset.team = teamKey;
              priceBtn.dataset.price = price;
              priceBtn.addEventListener('click', function(e) {
                e.stopPropagation();
                const team = this.dataset.team;
                const price = this.dataset.price;
                const imgUrl = data[team].prices[price];
                if (squadDisplay.dataset.activePrice === price) {
                  squadDisplay.innerHTML = '';
                  squadDisplay.dataset.activePrice = "";
                } else {
                  squadDisplay.innerHTML = '';
                  const img = document.createElement('img');
                  img.src = imgUrl;
                  img.alt = data[team].name + ' 스쿼드';
                  squadDisplay.appendChild(img);

                  // 버튼 그룹 생성 (이미지 바로 아래)
                  const btnGroup = document.createElement('div');
                  btnGroup.className = 'btn-group mt-2 d-block';

                  const downloadBtn = document.createElement('a');
                  downloadBtn.className = 'btn btn-primary';
                  downloadBtn.href = imgUrl;
                  downloadBtn.download = '';
                  downloadBtn.innerText = '다운로드';
                  downloadBtn.addEventListener('click', function(e) {
                    showAlert('다운로드가 시작됩니다. 다운로드가 되지 않으면 다시 시도해 주세요', 'success');
                  });

                  const shareBtn = document.createElement('button');
                  shareBtn.className = 'btn btn-secondary';
                  shareBtn.innerText = '공유';
                  shareBtn.addEventListener('click', function() {
                    if (navigator.share) {
                      navigator.share({
                        title: data[team].name + ' 스쿼드',
                        url: imgUrl
                      }).catch(err => console.error("공유 실패:", err));
                    } else {
                      prompt("공유 링크를 복사하세요:", imgUrl);
                    }
                  });

                  btnGroup.appendChild(downloadBtn);
                  btnGroup.appendChild(shareBtn);
                  squadDisplay.appendChild(btnGroup);

                  squadDisplay.dataset.activePrice = price;
                }
              });
              priceOptions.appendChild(priceBtn);
            });
          }
          priceOptions.style.display = 'block';
        }
      });

      teamsContainer.appendChild(teamItem);
      teamElements[teamKey] = { teamItem, teamBtn, priceOptions, squadDisplay };
    });

    searchInput.addEventListener('keypress', function(e) {
      if (e.key === "Enter") {
        processSearch();
      }
    });

    function processSearch() {
      const query = searchInput.value.trim().toLowerCase();
      if (!query) return;
      let foundTeamKey = null;
      let foundPrice = null;
      Object.keys(data).forEach(teamKey => {
        const teamName = data[teamKey].name.toLowerCase();
        if (query.indexOf(teamName) > -1) {
          foundTeamKey = teamKey;
        }
      });
      const priceMatch = query.match(/\d+/);
      if (priceMatch) {
        foundPrice = priceMatch[0];
      }
      if (foundTeamKey) {
        const { teamItem, teamBtn, priceOptions, squadDisplay } = teamElements[foundTeamKey];
        if (priceOptions.style.display !== 'block') {
          teamBtn.click();
        }
        teamItem.scrollIntoView({ behavior: 'smooth', block: 'start' });
        if (foundPrice) {
          setTimeout(() => {
            const priceBtns = priceOptions.querySelectorAll('.price-btn');
            priceBtns.forEach(btn => {
              if (btn.dataset.price === foundPrice) {
                btn.click();
              }
            });
          }, 300);
        }
      }
    }

    // showAlert 함수: 알림을 alertPlaceholder에 표시하고 3초 후 자동 제거 (애니메이션 효과 적용)
    function showAlert(message, type) {
      const alertPlaceholder = document.getElementById('alertPlaceholder');
      const wrapper = document.createElement('div');
      // alert 요소에 fade 클래스를 추가하고 초기에는 show 클래스를 제거한 상태로 생성
      wrapper.className = `alert alert-${type} alert-dismissible fade`;
      wrapper.setAttribute('role', 'alert');
      wrapper.innerHTML = `
        <div>${message}</div>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
      `;
      alertPlaceholder.append(wrapper);

      // 강제로 reflow 발생 (애니메이션 트리거)
      wrapper.offsetWidth;
      // show 클래스를 추가하여 fade in 효과 적용
      wrapper.classList.add('show');

      // 3초 후 fade out 시작
      setTimeout(() => {
        wrapper.classList.remove('show');
        // fade out 효과가 완료된 후 (약 150ms) alert 제거
        setTimeout(() => {
          wrapper.remove();
        }, 150);
      }, 3000);
    }
  </script>
  <!-- 부트스트랩 JS (햄버거 메뉴 등 인터랙티브 기능) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
